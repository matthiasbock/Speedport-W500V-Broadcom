<HTML>

<HEAD>

<TITLE>TelefonSperrlistekommend</TITLE>

<SCRIPT language="JavaScript" src="js_menu.txt" type="text/JavaScript"></SCRIPT>
<SCRIPT language="JavaScript" src="js_fade.txt" type="text/JavaScript"></SCRIPT>

<SCRIPT language="JavaScript">
<!--
function chk(){
	document.F1.T1[0].value = '<%ejGetvoipIn(ICAL_0)%>';
	document.F1.T1[1].value = '<%ejGetvoipIn(ICAL_1)%>';
	document.F1.T1[2].value = '<%ejGetvoipIn(ICAL_2)%>';
	document.F1.T1[3].value = '<%ejGetvoipIn(ICAL_3)%>';
	document.F1.T1[4].value = '<%ejGetvoipIn(ICAL_4)%>';
	document.F1.T1[5].value = '<%ejGetvoipIn(ICAL_5)%>';
	document.F1.T1[6].value = '<%ejGetvoipIn(ICAL_6)%>';
	document.F1.T1[7].value = '<%ejGetvoipIn(ICAL_7)%>';
	document.F1.T1[8].value = '<%ejGetvoipIn(ICAL_8)%>';
	document.F1.T1[9].value = '<%ejGetvoipIn(ICAL_9)%>';
	document.F1.T1[10].value = '<%ejGetvoipIn(ICAL_10)%>';
	document.F1.T1[11].value = '<%ejGetvoipIn(ICAL_11)%>';
	document.F1.T1[12].value = '<%ejGetvoipIn(ICAL_12)%>';
	document.F1.T1[13].value = '<%ejGetvoipIn(ICAL_13)%>';
	document.F1.T1[14].value = '<%ejGetvoipIn(ICAL_14)%>';
	document.F1.T1[15].value = '<%ejGetvoipIn(ICAL_15)%>';
	document.F1.T1[16].value = '<%ejGetvoipIn(ICAL_16)%>';
	document.F1.T1[17].value = '<%ejGetvoipIn(ICAL_17)%>';
	document.F1.T1[18].value = '<%ejGetvoipIn(ICAL_18)%>';
	document.F1.T1[19].value = '<%ejGetvoipIn(ICAL_19)%>';
}

function txtHinw(feldname){
  return "Im Feld '" + feldname + "' wurde eine falsche Eingabe bzw. keine Eingabe vorgenommen." + 
         "\nDie korrekte Eingabe ist notwendig, um die Telefonie über das Internet verwenden zu können.";
}
// note: return true means input includes illegal char.
function chkNumber(input)
{ 
	var ret = false;
	var i = 0;
	for (i=0;i<input.length;i++)
	{
		if (input.charAt(i) < '0' || input.charAt(i) > '9')
		{	
			ret = true;
			break;
		}
	}
	return ret;
}

function stOk ()
{ 
  var prf = true;
  var idxErr = 0;
  for(i=0;i<20;i++) {
    if(document.F1.T1[i].value != "") {
	 	if (chkNumber (document.F1.T1[i].value) == true) {
      	prf = false;
			idxErr = i;
      	break;
		}
   }
  }
  if (prf == false){
    alert(txtHinw("Zu sperrende Rufnummer"));
    document.F1.T1[idxErr].focus();
	 return;
  }
  stSave();
}
  
function stDel(){
  if (confirm("Wenn Sie alle Einträge in der Liste löschen möchten, dann klicken Sie auf 'OK'." +
              "\nKlicken Sie auf 'Abbrechen', um das Löschen zu verhindern.")==true){
	document.forms[0].reset();
    stSave();
  }
}
  
function stSave(){
   document.getElementById('t_but1').style.visibility='hidden';
	document.getElementById('t_but2').style.visibility='hidden';
   document.getElementById('t_but3').style.visibility='hidden';
   document.getElementById('t_but4').style.visibility='hidden';
  
  document.getElementById("c_verzoeg1").style.visibility='visible';
  document.getElementById("c_verzoeg2").style.visibility='visible';
  
  var loc = 'voipcfg.cmd?action=_inset&s';
  
  for (i=0;i<19;i++){
    loc = loc + 'ICAL_' + i + '=' + encodeUrl(document.F1.elements[i].value) + '&';
  }
  loc = loc + 'ICAL_19=' +  encodeUrl(document.F1.elements[19].value);
  //alert(loc);
  var code = 'this.location.assign("' + loc + '")';
  eval(code);  
}

function stZrk(){
  top.frames[2].location.href = "hcti_telefon.htm";
}

//-->
</SCRIPT>

<LINK rel="stylesheet" href="style.css" type="text/css">

<STYLE type="text/css">
<!--

#scroll{WIDTH: 400px; HEIGHT: 341px; OVERFLOW: scroll;}

//-->
</STYLE>

</HEAD>

<BODY onload=chk()>

<DIV id=c_Frame>

<DIV id=c_border>
<DIV id=c_pfad>Telefonie / Sperrliste kommend</DIV>
<DIV id=c_titel>Sperrliste kommend</DIV>
<DIV id=c_std>
      <table border="0" cellpadding="0" cellspacing="2">
        <tr>
          <form name="F1">
            <td width="45">Eintrag</td>
            <td width="15"></td>
            <td>Zu sperrende Rufnummer</td>
        </tr>
      </table>
</DIV>

<DIV id=scroll>
<SCRIPT language="JavaScript">
<!--                    
for (i=0;i<20;i++){
  var divart = "c_std";
  var endf = "";
  if (i==19){
    divart = "c_last";
    endf = "</form>";
  }
  document.write(
    '<DIV id=' + divart + '>' +
      '<table border="0" cellpadding="0" cellspacing="2">' +
        '<tr>' +
            '<td width="45" align="center">' + (i+1) + '</td>' +
            '<td width="15"></td>' +
            '<td onmouseover=i_showElem(1) onmouseout=i_showElem(0)><input type="text" name="T1" size="25" maxlength="27"></td>' +
          endf +
        '</tr>' +
      '</table>' +
    '</DIV>');
}

//-->
</SCRIPT> 
</DIV>

<DIV id=c_foot></DIV>
</DIV>

<DIV id=c_verzoeg1></DIV>
<DIV id=c_verzoeg2></DIV>

</DIV>

<DIV id=t_Frame>

<DIV id=t_but1 onclick=startseite() onmouseover=rahmen(1,1) onmouseout=rahmen(0,1)>&lt;&lt;&nbsp;&nbsp;&lt;&lt;</DIV>
<DIV id=t_but2 onclick=stDel() onmouseover=rahmen(1,2) onmouseout=rahmen(0,2)>L&ouml;schen &lt;&lt;</DIV>
<DIV id=t_but3 onclick=stZrk() onmouseover=rahmen(1,3) onmouseout=rahmen(0,3)>Zur&uuml;ck &lt;&lt;</DIV>
<DIV id=t_but4 onclick=stOk() onmouseover=rahmen(1,4) onmouseout=rahmen(0,4)>Speichern &lt;&lt;</DIV>

</DIV>

<DIV id=i_Frame>

  <DIV id=i_content>
    <h2>Sperrliste kommend</h2>
    <p>Sie können hier die Rufnummern eingeben, für die Sie nicht erreichbar sein möchten. 
    Der Anrufer mit dieser Rufnummer erhält dann besetzt.</p>
  </DIV>
  
  <DIV id=i_content1>
    <h2>Sperrliste kommend</h2>
    <p><b>Zu sperrende Rufnummer</b><br>
    Geben Sie die Rufnummer ein, für die Sie nicht erreichbar sein möchten.</p>
  </DIV>
  
</DIV>

</BODY>

</HTML>
